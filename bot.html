<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Botpress Chat with Voice</title>
  <script src="https://cdn.botpress.cloud/webchat/v3.2/inject.js"></script>
</head>
<body>
  <div id="webchat" style="width: 100%; height: 100vh;"></div>

  <script>
    // Open chat automatically when ready
    window.botpress.on("webchat:ready", () => {
      window.botpress.open();
    });

    // Initialize Botpress Webchat
    window.botpress.init({
      botId: "60be0087-a72c-4cbc-a8d4-40d7bc89b74a",
      clientId: "bc050014-0950-4e07-b5f7-ec5ae7c05ff0",
      selector: "#webchat",
      enableVoice: true   // ðŸ‘ˆ mic input
    });

    // âœ… Speak all bot replies
    window.botpress.on("message", (event) => {
      if (event.payload?.type === "text" && event.payload?.from === "bot") {
        const utterance = new SpeechSynthesisUtterance(event.payload.text);
        utterance.lang = "en-US";   // change to "en-IN" if you want Indian English accent
        utterance.rate = 1;         // speaking speed
        utterance.pitch = 1;        // voice pitch
        speechSynthesis.speak(utterance);
      }
    });
  </script>
</body>
</html>
